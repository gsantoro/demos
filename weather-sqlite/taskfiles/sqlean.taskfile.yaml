# https://taskfile.dev

version: '3'

includes:
  sqlpkg: ./sqlpkg.taskfile.yaml

# Sqlean: https://github.com/nalgeon/sqlean/tree/main
tasks:
  install:
    cmds:
      - task: sqlpkg:install 
        vars:
          PKG_PATH: github.com/nalgeon/sqlean

  uninstall:
    cmds:
      - task: sqlpkg:uninstall 
        vars:
          PKG_PATH: github.com/nalgeon/sqlean

  which:
    cmds:
      - task: sqlpkg:which 
        vars:
          PKG_PATH: nalgeon/sqlean

  square:
    cmds:
      - |
        sqlite3 {{.DB_PATH}} \
          -batch ".load .sqlpkg/nalgeon/sqlean/sqlean" \
          -batch "select sqrt(9);"
